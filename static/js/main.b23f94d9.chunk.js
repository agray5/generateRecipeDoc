(this["webpackJsonpgenerate-recipe-doc"]=this["webpackJsonpgenerate-recipe-doc"]||[]).push([[0],{107:function(e,t){},109:function(e,t){},126:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(8),r=n.n(c),s=(n(96),n(31)),o=n(32),l=n(34),u=n(33),d=(n(97),n(162)),h=n(55),j=n(28),b=n.n(j),p=n(56),O=n(46),g=n(17),f=n(159),m=n(161),v=n(5),x=n(76),w=n(77),y=n.n(w),C=n(167),k=n(168),F=n(160),D=n(164),R=n(165),S=n(85),W=n(86),I=n(166),P=n(6),T=["ref"];var B=Object(v.a)((function(e){return{root:{width:"calc(100%-20px)",padding:20,borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},imgPreview:{maxWidth:"100%"}}}),{withTheme:!0})((function(e){var t=Object(i.useState)([]),n=Object(S.a)(t,2),a=n[0],c=n[1],r=Object(i.useCallback)((function(t){c(Object.assign(t[0],{previewUrl:URL.createObjectURL(t[0])})),e.resolve(t)}),[]),s=Object(W.a)({onDrop:r,accept:"image/png,image/gif,image/jpg,image/jpeg,image/svg",maxFiles:1}),o=s.getRootProps,l=s.getInputProps,u=s.isDragActive,d=(s.isDragAccept,s.isDragReject),j=s.acceptedFiles,b=o(),p=b.ref,O=(Object(h.a)(b,T),e.classes);return Object(P.jsx)(I.a,{rootRef:p,children:Object(P.jsxs)("div",Object(g.a)(Object(g.a)({},o()),{},{className:O.root,children:[Object(P.jsx)("input",Object(g.a)({},l())),j.length?Object(P.jsx)("img",{src:a.previewUrl,alt:"Recipe",className:O.imgPreview}):d?Object(P.jsx)("p",{children:"File cannot be used"}):u?Object(P.jsx)("p",{children:"Drop the files here ..."}):Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"}),Object(P.jsx)("em",{children:"(Only *.jpeg and *.png images will be accepted)"})]})]}))})})),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleChange,i=e.handleImg,a=e.handleSubmit,c=e.values;return Object(P.jsxs)("form",{className:t.root,onSubmit:a,children:[Object(P.jsxs)(f.a,{container:!0,justify:"center",spacing:5,children:[Object(P.jsxs)(f.a,{item:!0,xs:4,children:[Object(P.jsx)(B,{resolve:i}),Object(P.jsx)("p",{children:"Can't generate doc without image"})]}),Object(P.jsxs)(f.a,{container:!0,item:!0,direction:"column",justify:"center",spacing:3,xs:8,children:[Object(P.jsx)(f.a,{item:!0,children:Object(P.jsxs)(C.a,{fullWidth:!0,children:[Object(P.jsx)(k.a,{htmlFor:"title",children:"Recipe Title"}),Object(P.jsx)(F.a,{id:"title",onChange:n,value:c.title,fullWidth:!0})]})}),Object(P.jsx)(f.a,{item:!0,children:Object(P.jsxs)(C.a,{fullWidth:!0,children:[Object(P.jsx)(k.a,{htmlFor:"type",children:"Recipe Type"}),Object(P.jsx)(F.a,{id:"type",onChange:n,value:c.type,fullWidth:!0})]})}),Object(P.jsx)(f.a,{item:!0,children:Object(P.jsx)(D.a,{id:"desc",label:"Recipe Description",rows:4,multiline:!0,onChange:n,variant:"outlined",value:c.desc,fullWidth:!0})}),Object(P.jsx)(f.a,{item:!0,children:Object(P.jsx)(D.a,{id:"ing",label:"Recipe Ingrediants",rows:4,multiline:!0,onChange:n,variant:"outlined",value:c.ing,fullWidth:!0})}),Object(P.jsx)(f.a,{item:!0,children:Object(P.jsx)(D.a,{id:"instructions",label:"Recipe instructions",rows:4,multiline:!0,onChange:n,variant:"outlined",value:c.instructions,helperText:"Put each step on a new line.",fullWidth:!0})})]})]}),Object(P.jsx)(R.a,{type:"submit",value:"Submit",color:"primary",variant:"contained",children:"Generate recipe doc"})]})}}]),n}(a.a.Component),A=Object(v.a)((function(e){return{root:{padding:"4rem"}}}),{withTheme:!0})(U),L={getHeightAndWidthFromDataUrl:function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t({height:n.height,width:n.width})},n.src=e}))}},N=["classes"],E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={values:{title:"",type:"",ing:"",instructions:"",desc:""}},i}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.setState({values:Object(g.a)(Object(g.a)({},this.state.values),{},Object(O.a)({},e.target.id,e.target.value))})}},{key:"handleImg",value:function(){var e=Object(p.a)(b.a.mark((function e(t){var n,i,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].arrayBuffer();case 2:return n=e.sent,e.next=5,L.getHeightAndWidthFromDataUrl(t[0].previewUrl);case 5:i=e.sent,a=i.width,c=i.height,this.setState({values:Object(g.a)(Object(g.a)({},this.state.values),{},{img:{data:n,extension:"."+t[0].name.split(".").pop(),width:.026458*a,height:.026458*c}})});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),function(e){H.apply(this,arguments)}(this.state.values)}},{key:"render",value:function(){var e=this.props,t=e.classes;Object(h.a)(e,N);return Object(P.jsx)(f.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(P.jsx)(m.a,{className:t.card,children:Object(P.jsx)(A,{values:this.state.values,handleChange:this.handleChange.bind(this),handleImg:this.handleImg.bind(this),handleSubmit:this.handleSubmit.bind(this)})})})}}]),n}(a.a.Component);function H(){return(H=Object(p.a)(b.a.mark((function e(t){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/generateRecipeDoc/temp.docx");case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:i=e.sent,J(i,t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){var e=Object(p.a)(b.a.mark((function e(t,n){var i,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.next=3,y()({template:i,data:Object(g.a)({},G(n)),cmdDelimiter:["{","}"]});case 3:a=e.sent,c=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),Object(x.saveAs)(c,"report.docx");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e){var t=Object.assign({},e);return t.instructions?t.instructions=t.instructions.split(/\r?\n/).map((function(e){return{text:e}})):t.instructions=[""],t},M=Object(v.a)((function(e){return{card:{width:"100%"}}}),{withTheme:!0})(E),q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(P.jsx)(d.a,{children:Object(P.jsx)(M,{})})}}]),n}(i.Component),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))},K=n(163),Q=n(84),V=Object(Q.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)"});r.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(K.a,{theme:V,children:Object(P.jsx)(q,{})})}),document.getElementById("root")),z()},96:function(e,t,n){},97:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.b23f94d9.chunk.js.map